{"ast":null,"code":"let socket;\nexport function connectWebSocket(url) {\n  socket = new WebSocket(url);\n  socket.onopen = () => {\n    console.log('WebSocket connection established');\n  };\n  socket.onmessage = event => {\n    try {\n      const data = JSON.parse(event.data);\n      // Dispatch the original event data as a JSON string\n      window.dispatchEvent(new MessageEvent('message', {\n        data: event.data\n      }));\n    } catch (error) {\n      console.error('Error parsing WebSocket message:', error);\n    }\n  };\n  socket.onclose = () => {\n    console.log('WebSocket connection closed');\n  };\n}\nexport function sendMessage(message) {\n  if (socket.readyState === WebSocket.OPEN) {\n    socket.send(JSON.stringify(message));\n  }\n}","map":{"version":3,"names":["socket","connectWebSocket","url","WebSocket","onopen","console","log","onmessage","event","data","JSON","parse","window","dispatchEvent","MessageEvent","error","onclose","sendMessage","message","readyState","OPEN","send","stringify"],"sources":["D:/project/Hit/frontend/src/services/websocket.js"],"sourcesContent":["let socket;\r\n\r\nexport function connectWebSocket(url) {\r\n  socket = new WebSocket(url);\r\n\r\n  socket.onopen = () => {\r\n    console.log('WebSocket connection established');\r\n  };\r\n\r\n  socket.onmessage = (event) => {\r\n    try {\r\n      const data = JSON.parse(event.data);\r\n      // Dispatch the original event data as a JSON string\r\n      window.dispatchEvent(new MessageEvent('message', { data: event.data }));\r\n    } catch (error) {\r\n      console.error('Error parsing WebSocket message:', error);\r\n    }\r\n  };\r\n\r\n  socket.onclose = () => {\r\n    console.log('WebSocket connection closed');\r\n  };\r\n}\r\n\r\nexport function sendMessage(message) {\r\n  if (socket.readyState === WebSocket.OPEN) {\r\n    socket.send(JSON.stringify(message));\r\n  }\r\n}\r\n"],"mappings":"AAAA,IAAIA,MAAM;AAEV,OAAO,SAASC,gBAAgBA,CAACC,GAAG,EAAE;EACpCF,MAAM,GAAG,IAAIG,SAAS,CAACD,GAAG,CAAC;EAE3BF,MAAM,CAACI,MAAM,GAAG,MAAM;IACpBC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;EACjD,CAAC;EAEDN,MAAM,CAACO,SAAS,GAAIC,KAAK,IAAK;IAC5B,IAAI;MACF,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACC,IAAI,CAAC;MACnC;MACAG,MAAM,CAACC,aAAa,CAAC,IAAIC,YAAY,CAAC,SAAS,EAAE;QAAEL,IAAI,EAAED,KAAK,CAACC;MAAK,CAAC,CAAC,CAAC;IACzE,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdV,OAAO,CAACU,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC1D;EACF,CAAC;EAEDf,MAAM,CAACgB,OAAO,GAAG,MAAM;IACrBX,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC5C,CAAC;AACH;AAEA,OAAO,SAASW,WAAWA,CAACC,OAAO,EAAE;EACnC,IAAIlB,MAAM,CAACmB,UAAU,KAAKhB,SAAS,CAACiB,IAAI,EAAE;IACxCpB,MAAM,CAACqB,IAAI,CAACX,IAAI,CAACY,SAAS,CAACJ,OAAO,CAAC,CAAC;EACtC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}